<main class="account-update">
  <h1><%= title %></h1>

  <% if (message && message.length) { %>
    <div class="notice"><%= message %></div>
  <% } %>

  <% if (errors && errors.length) { %>
    <div class="errors"><ul><% errors.forEach(e => { %><li><%= e.msg %></li><% }) %></ul></div>
  <% } %>

  <section>
    <h2>Account Update</h2>
    <form action="/account/update" method="post" class="stack">
      <label for="account_firstname">First name</label>
      <input id="account_firstname" name="account_firstname" required
             value="<%= typeof account_firstname !== 'undefined' ? account_firstname : '' %>">

      <label for="account_lastname">Last name</label>
      <input id="account_lastname" name="account_lastname" required
             value="<%= typeof account_lastname !== 'undefined' ? account_lastname : '' %>">

      <label for="account_email">Email</label>
      <input id="account_email" name="account_email" type="email" required
             value="<%= typeof account_email !== 'undefined' ? account_email : '' %>">

      <input type="hidden" name="account_id" value="<%= account_id %>">
      <button type="submit">Save changes</button>
    </form>
  </section>

  <section>
    <h2>Change Password</h2>
    <p class="muted">Password must be 12+ chars, 1 number, 1 uppercase and 1 special char.</p>
    <form action="/account/update-password" method="post" class="stack">
      <label for="account_password">New password</label>
      <input id="account_password" name="account_password" type="password" required
             pattern="^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\\s).{12,}$">
      <input type="hidden" name="account_id" value="<%= account_id %>">
      <button type="submit">Change password</button>
    </form>
  </section>
</main>
